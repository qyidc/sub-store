<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>通用节点订阅转换器</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>通用节点订阅转换器</h1>
            <p>粘贴节点链接或远程订阅URL，生成 Clash YAML 配置和订阅链接。</p>
        </header>

        <main>
            <div class="input-section">
                <div class="tab-control">
                    <button class="tab-button active" data-tab="local-links">本地节点</button>
                    <button class="tab-button" data-tab="remote-subs">远程订阅</button>
                </div>
                
                <div id="local-links" class="tab-content active">
                    <label for="node-links">节点链接 (每行一个):</label>
                    <textarea id="node-links" placeholder="例如: vmess://... 或 ss://... (支持Base64编码链接)"></textarea>
                </div>
                
                <div id="remote-subs" class="tab-content">
                    <label for="remote-subscriptions">远程订阅URL (每行一个):</label>
                    <textarea id="remote-subscriptions" placeholder="例如: https://example.com/subscription"></textarea>
                </div>
            </div>

            <button id="convert-button" class="primary-button">
                <span id="convert-button-text">生成配置和订阅</span>
                <div id="convert-loader" class="loader hidden"></div>
            </button>
            
            <div id="results-area" class="hidden">
                <div class="result-section">
                    <label for="yaml-output">Clash YAML 配置:</label>
                    <div class="code-block">
                        <pre id="yaml-output"></pre>
                        <button id="copy-yaml-button" class="copy-button">复制YAML</button>
                    </div>
                </div>

                <div class="result-section">
                    <label for="subscription-link">Clash 订阅链接:</label>
                    <div class="link-container">
                        <input type="text" id="subscription-link" readonly>
                        <button id="copy-link-button" class="copy-button">复制链接</button>
                    </div>
                </div>
                
                <div id="stats-area" class="stats hidden">
                    <div class="stat-item">
                        <span class="stat-label">本地节点:</span>
                        <span id="local-count" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">远程节点:</span>
                        <span id="remote-count" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">总计:</span>
                        <span id="total-count" class="stat-value">0</span>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>Cloudflare Worker + R2 驱动</p>
        </footer>
    </div>

    <div id="toast-message" class="toast"></div>

    <script src="/js/app.js"></script>
</body>
</html>
